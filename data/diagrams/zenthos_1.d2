direction: right

IoT: {
  label: "IoT Device"
  style: {
    fill: "#E6F7FF"
    stroke: "#1890FF"
    # dashed: true
  }
  ESP32: "ğŸ“Ÿ ESP32 Temp Sensor"
}

Messaging: {
  label: "Messaging Layer"
  style: {
    fill: "#FFF7E6"
    stroke: "#FA8C16"
  }
  MQTT: "ğŸ“¡ MQTT Broker"
  RabbitMQ: "ğŸ‡ RabbitMQ Queue"
}

Processing: {
  label: "Processing Layer"
  style: {
    fill: "#F6FFED"
    stroke: "#52C41A"
  }
  Middleware: "âš™ï¸ Middleware (Enrichment + Validation + Data Ingestion)"
  Consumer: "ğŸ§  Consumer (Analytics, Alerting, Workflows)"
}

Storage: {
  label: "Storage"
  style: {
    fill: "#F0F5FF"
    stroke: "#2F54EB"
  }
  TSDB: "ğŸ—„ï¸ TimescaleDB"
}

Observability: {
  label: "Observability"
  style: {
    fill: "#FFF0F6"
    stroke: "#EB2F96"
  }
  OTEL: "ğŸ” OpenTelemetry Collector"
  Grafana: "ğŸ“Š Grafana"
}

# Connections
IoT.ESP32 -> Messaging.MQTT
Messaging.MQTT -> Processing.Middleware
Processing.Middleware -> Messaging.RabbitMQ
Processing.Middleware -> Storage.TSDB
Processing.Middleware -> Observability.OTEL
Messaging.RabbitMQ -> Processing.Consumer
Processing.Consumer -> Observability.OTEL
Observability.OTEL -> Observability.Grafana
Storage.TSDB -> Observability.Grafana
