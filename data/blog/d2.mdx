---
title: Why I got rid of Mermaid and used D2 instead
date: '2025-08-31'
tags: ['nextjs', 'selfhost',"d2"]
draft: false
summary: Explaining how diagrams on my website work
---

## Why?

[Mermaid](https://mermaid.js.org/) is a javascript based diagraming tool that allows you to embed diagrams inside your markdown content, its syntax is simple, but I am not entirely satisfied with it.

This library is useful for these kind of contents:

- Great range of different diagrams
- Easy to use
- Lots of available integrations
- Easy to intergrate within NextJS

However, when building large diagrams the syntax becomes hard to follow, specially if it is embedded inside markdown documents and since most of the diagrams are going to be in my website, i want to be able to share them more easily.

Enter the **[D2](https://d2lang.com/)** language.

### D2

D2 is a language built on top of golang whose only purpose is to build diagrams. Okay, now it sounds exactly the same as Mermaid, right? Kind of. However, it has some interesting features that made me switch over it.

<Callout type="note">
I saw the potential for a **clean, modular system**, that can be powered by Rust, traced with OTEL, monitored end-to-end and with the option to integrate some MLOPS / FirmwareOps.
</Callout>

### üèÜ The goal

The end goal is to build a full hydroponics system, but for now, we will start with something simpler.

- Exploring Rust for embedded devices.
- Integration of OTA server and full control of FirmwareOps.
- Platform monitoring.
- Integration with a data and analytics platform.
- Monetization.

## üöß What‚Äôs Next

Over the next few weeks I‚Äôll be expanding this system:

<TechStack technologies={["Rust", "ESP32", "MQTT", "RabbitMQ", "PostgreSQL", "OpenTelemetry", "Grafana", "Prometheus", "MLflow", "Redis", "Axum"]} />

- Add OTA server in Axum + Redis.
- Full MLOps pipeline with edge inferencing.
- Monitor power, water, and nutrient sensors.
- Weather station.
- Automatic adjustments (fan, light, water pump).
- Real-world testing with real plants.

## üß† Zenthos Architecture (Core Sensor Flow)

<Diagram name="zenthos_1" />

## üß± Full System Overview

<Diagram name="zenthos_2" />

## üîö Final Thought

Zenthos is my commitment to full-stack, edge intelligence.
If you're building in this space, let's talk! I want to hear your thoughts.

I will expand about the architecture in the next post.
