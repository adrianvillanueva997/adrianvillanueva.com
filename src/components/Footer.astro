---
import { Icon } from "astro-icon/components";
import blockedPhoto from "@/assets/files/blocked.png";
import bloqueoPhoto from "@/assets/files/bloqueo.png";
import badge from "@/assets/footer/Written-By-a-Human-Not-By-AI-Badge-black.svg";
import SpainBlock from "@/components/SpainBlock.astro";
import { SITE_TITLE, SOCIAL_LINKS } from "@/consts";

const today = new Date();
---

<footer>
	<div class="footer-glow"></div>
	<div class="footer-container">
		<!-- Logo / Brand -->
		<div class="footer-brand">
			<span class="brand-name">{SITE_TITLE}</span>
			<span class="brand-tagline">Senior Systems Engineer · Tokyo, JP</span>
		</div>

		<!-- Social Icons -->
		<div class="social-icons">
			<a
				href={`mailto:${SOCIAL_LINKS.email}`}
				title="Email"
				target="_blank"
				rel="noopener noreferrer"
			>
				<Icon name="mdi:email" size={20} />
				<span class="social-label">Email</span>
			</a>
			<a
				href={SOCIAL_LINKS.github}
				title="GitHub"
				target="_blank"
				rel="noopener noreferrer"
			>
				<Icon name="mdi:github" size={20} />
				<span class="social-label">GitHub</span>
			</a>
			<a
				href={SOCIAL_LINKS.linkedin}
				title="LinkedIn"
				target="_blank"
				rel="noopener noreferrer"
			>
				<Icon name="mdi:linkedin" size={20} />
				<span class="social-label">LinkedIn</span>
			</a>
			<a
				href="/rss.xml"
				title="RSS Feed"
				target="_blank"
				rel="noopener noreferrer"
			>
				<Icon name="mdi:rss" size={20} />
				<span class="social-label">RSS</span>
			</a>
		</div>

		<!-- Divider -->
		<div class="footer-divider"></div>

		<!-- Bottom Row -->
		<div class="footer-bottom">
			<div class="footer-bottom-left">
				<div class="copyright">
					<span class="copyright-symbol">©</span> {today.getFullYear()} {SITE_TITLE}
				</div>
				<div class="footer-links">
					<a
						href="https://github.com/adrianvillanueva997/adrianvillanueva.com"
						target="_blank"
						rel="noopener noreferrer"
						class="footer-link"
					>
						<Icon name="mdi:code-tags" size={14} />
						Source
					</a>
					<span class="link-separator">·</span>
					<a href="https://notbyai.fyi/" target="_blank" rel="noopener noreferrer" class="footer-link badge-link">
						<img
							src={badge.src}
							alt="Written by Human, Not by AI"
							class="badge-image"
						/>
					</a>
				</div>
			</div>
		</div>

		<!-- Disclaimer -->
		<div class="disclaimer">
			<span class="disclaimer-label">Disclaimer:</span> Any and all opinions
			listed here are my own and not representative of any of my employers,
			past, future, and/or present.
		</div>
	</div>
	<SpainBlock imageEs={bloqueoPhoto} imageEn={blockedPhoto} />
</footer>

<script>
	// no-op
</script>

<style>
	footer {
		padding: 0;
		border-top: none;
		background: var(--bg-secondary);
		margin-top: 6rem;
		position: relative;
		overflow: hidden;
	}

	footer::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 1px;
		background: linear-gradient(90deg, transparent, var(--accent-active), var(--accent-info), transparent);
		opacity: 0.5;
	}

	.footer-glow {
		position: absolute;
		top: -120px;
		left: 50%;
		transform: translateX(-50%);
		width: 600px;
		height: 240px;
		background: radial-gradient(ellipse, var(--accent-active-glow) 0%, transparent 70%);
		pointer-events: none;
		opacity: 0.4;
	}

	.footer-container {
		max-width: 900px;
		margin: 0 auto;
		padding: 3rem 1.5rem 2rem;
		position: relative;
	}

	/* Brand */
	.footer-brand {
		text-align: center;
		margin-bottom: 2rem;
	}

	.brand-name {
		display: block;
		font-family: 'JetBrains Mono', monospace;
		font-weight: 700;
		font-size: 1.1rem;
		background: var(--gradient-primary);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
		margin-bottom: 0.35rem;
		letter-spacing: -0.02em;
	}

	.brand-tagline {
		display: block;
		font-family: 'JetBrains Mono', monospace;
		font-size: 0.7rem;
		color: var(--text-muted);
		letter-spacing: 0.05em;
		text-transform: uppercase;
	}

	/* Social Icons */
	.social-icons {
		display: flex;
		justify-content: center;
		gap: 0.5rem;
		margin-bottom: 2rem;
	}

	.social-icons a {
		color: var(--text-muted);
		transition: all var(--transition-base);
		display: flex;
		align-items: center;
		gap: 0.4rem;
		padding: 0.5rem 0.85rem;
		border-radius: 100px;
		border: 1px solid transparent;
		font-family: 'JetBrains Mono', monospace;
		font-size: 0.7rem;
		text-decoration: none;
	}

	.social-label {
		opacity: 0;
		max-width: 0;
		overflow: hidden;
		transition: all var(--transition-base);
		white-space: nowrap;
	}

	.social-icons a:hover {
		color: var(--accent-active);
		background: var(--accent-active-subtle);
		border-color: rgba(0, 230, 138, 0.15);
		transform: translateY(-2px);
		box-shadow: 0 4px 16px var(--accent-active-glow);
	}

	.social-icons a:hover .social-label {
		opacity: 1;
		max-width: 60px;
	}

	/* Divider */
	.footer-divider {
		height: 1px;
		background: linear-gradient(90deg, transparent, var(--border-light), transparent);
		margin-bottom: 1.5rem;
	}

	/* Bottom Row */
	.footer-bottom {
		display: flex;
		justify-content: center;
		align-items: center;
		margin-bottom: 1.5rem;
	}

	.footer-bottom-left {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		align-items: center;
	}

	/* Copyright */
	.copyright {
		color: var(--text-muted);
		font-family: 'JetBrains Mono', monospace;
		font-weight: 500;
		font-size: 0.75rem;
	}

	.copyright-symbol {
		color: var(--accent-active);
	}

	/* Footer Links */
	.footer-links {
		display: flex;
		align-items: center;
		gap: 0.75rem;
		font-size: 0.75rem;
	}

	.footer-link {
		color: var(--text-muted);
		text-decoration: none;
		font-family: 'JetBrains Mono', monospace;
		font-weight: 500;
		transition: all var(--transition-base);
		display: inline-flex;
		align-items: center;
		gap: 0.35rem;
	}

	.footer-link:hover {
		color: var(--accent-active);
		text-shadow: none;
	}

	.link-separator {
		color: var(--border-light);
	}

	.badge-link {
		display: inline-flex;
		align-items: center;
	}

	.badge-image {
		height: 1.25rem;
		width: auto;
		opacity: 0.5;
		transition: all var(--transition-base);
		border: none;
		border-radius: 0;
	}

	.badge-link:hover .badge-image {
		opacity: 1;
		filter: brightness(1.2);
	}

	/* Disclaimer */
	.disclaimer {
		text-align: center;
		font-size: 0.65rem;
		color: var(--text-muted);
		max-width: 42rem;
		margin: 0 auto;
		font-family: 'JetBrains Mono', monospace;
		line-height: 1.6;
		opacity: 0.6;
		padding-top: 1rem;
		border-top: 1px solid rgba(255, 255, 255, 0.03);
	}

	.disclaimer-label {
		color: var(--text-secondary);
		font-weight: 600;
		text-transform: uppercase;
	}

	/* Responsive */
	@media (max-width: 768px) {
		footer {
			margin-top: 4rem;
		}

		.footer-container {
			padding: 2.5rem 1rem 1.5rem;
		}

		.footer-glow {
			width: 300px;
			height: 150px;
			top: -80px;
		}

		.social-icons {
			gap: 0.35rem;
			flex-wrap: wrap;
		}

		.social-icons a {
			padding: 0.45rem 0.7rem;
		}

		.social-label {
			display: none;
		}

		.footer-bottom {
			flex-direction: column;
			gap: 1rem;
			align-items: center;
			text-align: center;
		}

		.footer-bottom-left {
			align-items: center;
		}

		.disclaimer {
			font-size: 0.6rem;
		}
	}

	@media (max-width: 480px) {
		.social-icons a {
			padding: 0.4rem 0.6rem;
		}

		.brand-name {
			font-size: 1rem;
		}

		.badge-image {
			height: 1rem;
		}

		.disclaimer {
			font-size: 0.55rem;
			padding: 0.75rem 0.5rem 0;
		}
	}
</style>
